<ion-header>
  <ion-toolbar>
    <ion-buttons slot="end" (click)="onMenuClick()" class="buttons-menu">
      <ion-icon class="icon-menu" name="chevron-up-circle-outline"></ion-icon>
    </ion-buttons>
    <ion-title>Home - {{ activeRoom }}</ion-title>
  </ion-toolbar>
</ion-header>



<ion-content [fullscreen]="true">
  <div class="loader" *ngIf="loading">
    <ion-spinner ></ion-spinner>
  </div>
  <div id="container" *ngIf="!loading">
    <div id="chatSection" #scrollBar>
      <br>
      <div class="message-block" *ngFor="let message of messages">
        <div class="message-l" *ngIf="!message.isMe" >
          <div class="name" [style.color]="message.color" *ngIf="ShowUserTag" (click)="tagUser(message.username,message.userId)">
            @{{message.username}}
          </div>
          <div class="content" [innerHTML]="message.MessageContent | messageRender">
          </div>
        </div>

        <div class="message-r" *ngIf="message.isMe">
          <div class="name" [style.color]="ActiveUser.color" *ngIf="ShowSelfTag">
            @{{message.username}}
          </div>
          <div class="content" [innerHTML]="message.MessageContent | messageRender">
          </div>
        </div>
      </div>
      <br><br><bR><br><br><bR>
    </div>
    <div id="bottomSection" *ngIf="!GiftViewActive">
      <ion-input #messageElement (ionBlur)="onMessageBoxToggle($event)" class="message-box"
        [(ngModel)]="MessageValue" placeholder="Envoyer un message" (keypress)="onKeyPress($event)"></ion-input>
      <button class="btn-round" (click)="toggleGiftView()">
        <ion-icon name="gift-outline" class="gift-icon"></ion-icon>
      </button>
      <button class="btn-round-right" (click)="sendMessage(true)">
        <ion-icon name="send-outline" class="gift-icon"></ion-icon>
      </button>
    </div>
    <div id="giftSection"  [@openClose]="GiftViewActive ? 'open' : 'closed'">
      <button class="btn-round-close" (click)="toggleGiftView()">
        <ion-icon name="close-outline" class="gift-icon"></ion-icon>
      </button>
      <div class="scrollSection">
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
      </div>
      <div class="scrollSection">
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
      </div>
    </div>
  </div>
</ion-content>